<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="color-scheme" content="dark">
  <title>Resources & Theme Menu Inline</title>
  <style>
    /* ----- Base Catppuccin Mocha Tokens (example) ----- */
    :root {
      --ctp-base:       #1e1e2e;
      --ctp-mantle:     #181825;
      --ctp-crust:      #11111b;
      --ctp-surface0:   #313244;
      --ctp-surface1:   #45475a;
      --ctp-overlay1:   #7f849c;
      --ctp-text:       #cdd6f4;
      --ctp-blue:       #89b4fa;
      --theme-accent:   var(--ctp-blue);
    }

    body {
      font-family: 'JetBrains Mono', monospace;
      margin: 20px;
      background-color: var(--ctp-base);
      color: var(--ctp-text);
    }

    /* ----- Tab Container & Inline Menu ----- */
    .tab-container {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 20px;
      border-bottom: 2px solid var(--ctp-overlay1);
      padding-bottom: 5px;
    }
    .tab-button {
      padding: 10px 20px;
      background-color: var(--ctp-surface0);
      color: var(--ctp-text);
      border: 2px solid var(--ctp-overlay1);
      border-radius: 4px;
      cursor: pointer;
      transition: background-color 0.3s, color 0.3s;
    }
    .tab-button:hover,
    .tab-button.active {
      background-color: var(--theme-accent);
      color: var(--ctp-crust);
    }

    /* ----- Inline Hamburger Menu (placed in the tab row) ----- */
    #menu-container {
      margin-left: auto; /* push to the far right */
      position: relative;
    }
    #hamburger-button {
      background: transparent;
      border: none;
      color: var(--ctp-text);
      font-size: 1.5em;
      cursor: pointer;
    }
    #menu-dropdown {
      display: none;
      position: absolute;
      top: 100%;
      right: 0;
      background-color: var(--ctp-mantle);
      border: 2px solid var(--theme-accent);
      border-radius: 4px;
      padding: 10px;
      margin-top: 5px;
      min-width: 200px;
      z-index: 1000;
    }
    #menu-dropdown label {
      display: block;
      margin-bottom: 5px;
      font-size: 0.9em;
      color: var(--ctp-text);
    }
    #menu-dropdown select,
    #menu-dropdown input[type="text"] {
      width: 100%;
      padding: 5px;
      font-size: 0.9em;
      border: 1px solid var(--ctp-overlay1);
      border-radius: 4px;
      background-color: var(--ctp-surface0);
      color: var(--ctp-text);
      box-sizing: border-box;
    }
    #custom-hex-container {
      display: none;
      margin-top: 10px;
    }

    /* ----- Example content styling ----- */
    .form-container {
      background-color: var(--ctp-mantle);
      padding: 20px;
      border: 2px solid var(--theme-accent);
      border-radius: 8px;
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <!-- Tab Container with Inline Hamburger Menu -->
  <div class="tab-container">
    <button class="tab-button active" onclick="showTab('resources')">Resources</button>
    <!-- Other tabs can go here -->
    <div id="menu-container">
      <button id="hamburger-button">&#9776;</button>
      <div id="menu-dropdown">
        <div>
          <label for="theme-picker">Theme:</label>
          <select id="theme-picker">
            <option value="matrix">Matrix</option>
            <option value="mocha">Catppuccin Mocha</option>
            <option value="latte">Catppuccin Latte</option>
          </select>
        </div>
        <div style="margin-top: 10px;">
          <label for="accent-picker">Accent:</label>
          <select id="accent-picker">
            <option value="red">Red</option>
            <option value="blue" selected>Blue</option>
            <option value="orange">Orange</option>
            <option value="pink">Pink</option>
            <option value="lavender">Lavender</option>
            <option value="sapphire">Sapphire</option>
            <option value="sky">Sky</option>
            <option value="teal">Teal</option>
            <option value="green">Green</option>
            <option value="yellow">Yellow</option>
            <option value="peach">Peach</option>
            <option value="maroon">Maroon</option>
            <option value="mauve">Mauve</option>
            <option value="custom">Custom</option>
          </select>
        </div>
        <div id="custom-hex-container">
          <label for="custom-hex">Custom Hex (#RRGGBB):</label>
          <input type="text" id="custom-hex" placeholder="#RRGGBB">
        </div>
      </div>
    </div>
  </div>

  <!-- Content Area: Example Form Container -->
  <div class="form-container">
    <h1>Sample Form</h1>
    <p>This is an example page. Use the hamburger menu in the top right to change the theme and accent color.</p>
  </div>

  <script>
    // --- Tab Switcher (if you have multiple tabs) ---
    function showTab(tabId) {
      // Implementation here if needed
    }

    // Toggle the dropdown menu on hamburger click
    const hamburgerButton = document.getElementById("hamburger-button");
    const menuDropdown = document.getElementById("menu-dropdown");

    hamburgerButton.addEventListener("click", (e) => {
      menuDropdown.style.display = menuDropdown.style.display === "none" || menuDropdown.style.display === "" ? "block" : "none";
      e.stopPropagation();
    });

    // Hide dropdown if clicking outside
    document.addEventListener("click", (e) => {
      if (!menuDropdown.contains(e.target) && !hamburgerButton.contains(e.target)) {
        menuDropdown.style.display = "none";
      }
    });

    // Show custom hex input if "custom" is selected for accent
    const accentPicker = document.getElementById("accent-picker");
    const customHexContainer = document.getElementById("custom-hex-container");
    accentPicker.addEventListener("change", () => {
      if (accentPicker.value === "custom") {
        customHexContainer.style.display = "block";
      } else {
        customHexContainer.style.display = "none";
      }
      updateThemeAccent();
    });

    // Update theme based on theme-picker
    const themePicker = document.getElementById("theme-picker");
    themePicker.addEventListener("change", () => {
      document.documentElement.setAttribute("data-theme", themePicker.value);
      updateThemeAccent();
    });

    // Update theme accent based on accent picker (or custom hex)
    function updateThemeAccent() {
      const theme = document.documentElement.getAttribute("data-theme");
      let accentValue = accentPicker.value;
      if (accentValue === "custom") {
        const customHex = document.getElementById("custom-hex").value.trim();
        if (/^#[0-9A-Fa-f]{6}$/.test(customHex)) {
          setAccent(customHex);
        }
      } else {
        setAccent(accentValue);
      }
    }

    function setAccent(accentOrHex) {
      const theme = document.documentElement.getAttribute("data-theme");
      if (accentOrHex.startsWith("#")) {
        // Custom hex color
        if (theme === "matrix") {
          document.documentElement.style.setProperty("--text-color", accentOrHex);
          document.documentElement.style.setProperty("--border-color", accentOrHex);
        } else {
          document.documentElement.style.setProperty("--theme-accent", accentOrHex);
        }
      } else {
        // Assume it's a named token
        const varName = `--ctp-${accentOrHex}`;
        const computedColor = getComputedStyle(document.documentElement).getPropertyValue(varName).trim() || accentOrHex;
        if (theme === "matrix") {
          document.documentElement.style.setProperty("--text-color", computedColor);
          document.documentElement.style.setProperty("--border-color", computedColor);
        } else {
          document.documentElement.style.setProperty("--theme-accent", `var(${varName})`);
        }
      }
    }
  </script>
</body>
</html>
